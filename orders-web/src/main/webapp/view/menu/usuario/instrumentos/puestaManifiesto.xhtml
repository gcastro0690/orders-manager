<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition>
	<h:form id="puestaManifiesto">
		<div class="ui-g-6">
			<div class="ui-g-12 ui-md-6 ui-lg-6" style="width: auto;">#{msg.aprobacionPrevia_txt_nroOficio}</div>
			<div class="ui-g-12 ui-md-6 ui-lg-6">
				<p:inputText placeholder="#{msg.aprobacionPrevia_txt_nroOficio}" value="#{puestaManifiestoController.nroOficio}"
					autocomplete="off" disabled="#{not puestaManifiestoController.habilitado}" />
			</div>
		</div>
		<div style="clear: both"></div>

		<div style="width: 100%">
			<div class="ui-g-12 ui-md-12 ui-lg-12" style="width: 70%;">
				<p:dataTable var="instrumentoArchivo" value="#{puestaManifiestoController.listInstrumentoArchivos}" emptyMessage=""
					class="tabla" rows="10" paginator="true" reflow="true" id="archuvosPuestaManif"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink}  {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15,25,50" currentPageReportTemplate="{currentPage} #{msg.de} {totalPages}"
					paginatorPosition="bottom" sortBy="#{instrumentoArchivo.modificado}" sortOrder="DESCENDING" editMode="cell"
					rowKey="#{instrumentoArchivo.id}" editable="true" rowIndexVar="rowIndex">
					<p:ajax event="cellEdit" />
					<p:column headerText="#{msg.aprobacionPrevia_tabla_header_fecha}">
						<h:outputText value="#{instrumentoArchivo.modificado}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>
					<p:column headerText="#{msg.aprobacionPrevia_tabla_header_nombre}">
						<h:outputText value="#{instrumentoArchivo.nombre}" />
					</p:column>
					<p:column headerText="#{msg.aprobacionPrevia_tabla_header_descripcion}">
						<p:cellEditor rendered="#{puestaManifiestoController.habilitado}">
							<f:facet name="output">
								<h:outputText value="#{instrumentoArchivo.descripcion}" />
							</f:facet>
							<f:facet name="input">
								<p:inputText value="#{instrumentoArchivo.descripcion}" autocomplete="off" style="width:96%" />
							</f:facet>
						</p:cellEditor>
						<h:outputText value="#{instrumentoArchivo.descripcion}" rendered="#{not puestaManifiestoController.habilitado}" />
					</p:column>
					<p:column headerText="#{msg.aprobacionPrevia_tabla_header_ver}">
						<ui:include src="/view/template/downloadTemplate.xhtml">
							<ui:param name="form" value="#{false}" />
							<ui:param name="styleClass" value="downloadButtonTable" />
							<ui:param name="file" value="#{instrumentoArchivo}" />
						</ui:include>
					</p:column>
					<p:column headerText="#{msg.aprobacionPrevia_tabla_header_eliminar}"
						rendered="#{puestaManifiestoController.habilitado}">
						<p:commandButton id="btneliminararchivoPM" icon="fa fa-trash-o"
							actionListener="#{puestaManifiestoController.eliminarInstrumentoArchivo(instrumentoArchivo)}"
							oncomplete="document.getElementsByClassName('tooltipeliminarPF#{rowIndex}')[0].style='display:none'"
							update="archuvosPuestaManif" disabled="#{not puestaManifiestoController.habilitado}" />
						<p:tooltip id="tooltipeliminarPF#{rowIndex}" widgetVar="tooltipeliminarPF#{rowIndex}"
							styleClass="tooltipeliminarPF#{rowIndex}" for="btneliminararchivoPM" value="#{msg.btn_eliminar}" position="left" />
					</p:column>
				</p:dataTable>
				<div class="ui-g-12 ui-lg-12 ui-md-12" style="width: auto; float: right; padding-right: 0px;">
					<p:fileUpload fileUploadListener="#{puestaManifiestoController.handleFileUpload}" mode="advanced"
						dragDropSupport="false" multiple="false" auto="true" update="archuvosPuestaManif" label="#{msg.btn_subir}"
						rendered="#{puestaManifiestoController.habilitado}" />
				</div>
				<div class="ui-g-12 ui-lg-12 ui-md-12" style="padding-right: 0px;">
					<p:commandButton styleClass="boton-redondeado-verde" value="#{msg.puestaManifiestp_btn_notificar}"
						actionListener="#{puestaManifiestoController.notificarAprobacionPrevia}" style="font-size: 12pt; float: right;"
						rendered="#{puestaManifiestoController.habilitado}" />
				</div>
			</div>
			<h:panelGroup rendered="#{puestaManifiestoController.habilitado}">
				<div style="text-align: left; width: 30%; float: right;">
					<p>#{msg.puestaManifiestp_txt_comentario_1}</p>
					<p>
						<b>#{msg.puestaManifiestp_txt_pto1}</b>
					</p>
					<p>
						<b>#{msg.puestaManifiestp_txt_pto2}</b>
					</p>
					<p>
						<b>#{msg.puestaManifiestp_txt_pto3}</b>
					</p>
					<p>
						<b>#{msg.puestaManifiestp_txt_pto4}</b>
					</p>
				</div>
			</h:panelGroup>
		</div>


	</h:form>
</ui:composition>

</html>